# 트랜잭션

트랜잭션은 블록체인 세계의 기본 개념입니다. 블록체인과 상호작용하는 방법입니다. 트랜잭션은 블록체인의 상태를 변경하는 데 사용되며, 그렇게 하는 유일한 방법입니다. Move에서 트랜잭션은 패키지의 함수를 호출하고, 새 패키지를 배포하고, 기존 패키지를 업그레이드하는 데 사용됩니다.

## 트랜잭션 구조

> 모든 트랜잭션은 작동하는 객체를 명시적으로 지정합니다!

트랜잭션은 다음으로 구성됩니다:

- 발신자 - 트랜잭션에 _서명_하는 [계정](./account)
- 명령 목록(또는 체인) - 실행할 작업들
- 명령 입력 - 명령의 인수: `pure` - 숫자나 문자열 같은 단순한 값, 또는 `object` - 트랜잭션이 접근할 객체
- 가스 객체 - 트랜잭션 비용을 지불하는 데 사용되는 `Coin` 객체
- 가스 가격과 예산 - 트랜잭션의 비용

## 입력

트랜잭션 입력은 트랜잭션의 인수이며 2가지 타입으로 나뉩니다:

- 순수 인수(Pure arguments): 대부분 [기본 타입](../move-basics/primitive-types.html)이며 몇 가지 추가 사항이 있습니다. 순수 인수는 다음이 될 수 있습니다:
  - [`bool`](../move-basics/primitive-types.html#booleans)
  - [부호 없는 정수](../move-basics/primitive-types.html#integer-types) (`u8`, `u16`, `u32`, `u64`, `u128`, `u256`)
  - [`address`](../move-basics/address.html)
  - [`std::string::String`](../move-basics/string.html), UTF8 문자열
  - [`std::ascii::String`](../move-basics/string.html#ascii-strings), ASCII 문자열
  - [`vector<T>`](../move-basics/vector.html), 여기서 `T`는 순수 타입
  - [`std::option::Option<T>`](../move-basics/option.html), 여기서 `T`는 순수 타입
  - [`std::object::ID`](../storage/uid-and-id.html), 일반적으로 객체를 가리킴. [객체란 무엇인가](../object/object-model.html) 참조
- 객체 인수: 트랜잭션이 접근할 객체 또는 객체의 참조입니다. 객체 인수는 트랜잭션이 성공하려면 공유 객체, 동결된 객체, 또는 트랜잭션 발신자가 소유한 객체여야 합니다. 자세한 내용은 [객체 모델](../object/index.html) 참조

## 명령

Sui 트랜잭션은 여러 명령으로 구성될 수 있습니다. 각 명령은 단일 내장 명령(패키지 게시 등)이거나 이미 게시된 패키지의 함수 호출입니다. 명령은 트랜잭션에 나열된 순서대로 실행되며, 이전 명령의 결과를 사용하여 체인을 형성할 수 있습니다. 트랜잭션은 전체적으로 성공하거나 실패합니다.

개략적으로 트랜잭션은 다음과 같이 보입니다 (의사 코드):

```
Inputs:
- sender = 0xa11ce

Commands:
- payment = SplitCoins(Gas, [ 1000 ])
- item = MoveCall(0xAAA::market::purchase, [ payment ])
- TransferObjects(item, sender)
```

이 예제에서 트랜잭션은 세 가지 명령으로 구성됩니다:

1. `SplitCoins` - 전달된 객체에서 새 코인을 분할하는 내장 명령, 이 경우 `Gas` 객체
2. `MoveCall` - 주어진 인수(payment 객체)로 패키지 `0xAAA`의 `market` 모듈에서 `purchase` 함수를 호출하는 명령
3. `TransferObjects` - 객체를 수신자에게 전송하는 내장 명령

## 트랜잭션 효과

트랜잭션 효과는 트랜잭션이 블록체인 상태에 가하는 변경 사항입니다. 구체적으로, 트랜잭션은 다음과 같은 방법으로 상태를 변경할 수 있습니다:

- 가스 객체를 사용하여 트랜잭션 비용 지불
- 객체 생성, 업데이트 또는 삭제
- 이벤트 발생

실행된 트랜잭션의 결과는 다음과 같은 여러 부분으로 구성됩니다:

- 트랜잭션 다이제스트 - 트랜잭션을 식별하는 데 사용되는 트랜잭션의 해시
- 트랜잭션 데이터 - 트랜잭션에 사용된 입력, 명령 및 가스 객체
- 트랜잭션 효과 - 트랜잭션의 상태와 "효과", 구체적으로: 트랜잭션 상태, 객체 업데이트와 새 버전, 사용된 가스 객체, 트랜잭션의 가스 비용, 트랜잭션에서 발생한 이벤트
- 이벤트 - 트랜잭션에서 발생한 사용자 정의 [이벤트](./../programmability/events.md)
- 객체 변경 - _소유권 변경_을 포함한 객체에 대한 변경 사항
- 잔액 변경 - 트랜잭션에 관련된 계정의 총 잔액에 대한 변경 사항