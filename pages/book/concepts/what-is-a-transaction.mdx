# 트랜잭션

트랜잭션은 블록체인 세계의 기본 개념입니다. 블록체인과 상호작용하는 방법입니다. 트랜잭션은 블록체인의 상태를 변경하는 데 사용되며, 그렇게 할 수 있는 유일한 방법입니다. Move에서 트랜잭션은 패키지의 함수를 호출하고, 새 패키지를 배포하고, 기존 패키지를 업그레이드하는 데 사용됩니다.

{/*

- how user interacts with a program
    - mention public functions
    - give a concept of an entry / public function without getting into details
    - mention that functions are called in transactions
    - mention that transactions are sent by accounts
    - every transaction specifies object it operates on

 */}

## 트랜잭션 구조

> 모든 트랜잭션은 작동하는 object를 명시적으로 지정합니다!

트랜잭션은 다음으로 구성됩니다:

- 발신자 - 트랜잭션에 _서명_하는 [계정](./what-is-an-account)
- 명령어 목록(또는 체인) - 실행할 작업들
- 명령어 입력 - 명령어의 인자: `pure` - 숫자나 문자열 같은 단순 값, 또는 `object` - 트랜잭션이 액세스할 object
- 가스 object - 트랜잭션 비용을 지불하는 데 사용되는 `Coin` object
- 가스 가격과 예산 - 트랜잭션 비용

## 입력

트랜잭션 입력은 트랜잭션의 인자이며 2가지 타입으로 나뉩니다:

- Pure 인자: 대부분 [기본 타입](../move-basics/primitive-types)이며 몇 가지 추가 사항이 있습니다. pure 인자는 다음이 될 수 있습니다:
  - [`bool`](../move-basics/primitive-types#booleans)
  - [부호 없는 정수](../move-basics/primitive-types#integer-types) (`u8`, `u16`, `u32`, `u64`, `u128`, `u256`)
  - [`address`](../move-basics/address)
  - [`std::string::String`](../move-basics/string), UTF8 문자열
  - [`std::ascii::String`](../move-basics/string#ascii-strings), ASCII 문자열
  - [`vector<T>`](../move-basics/vector), 여기서 `T`는 pure 타입
  - [`std::option::Option<T>`](../move-basics/option), 여기서 `T`는 pure 타입
  - [`std::object::ID`](../storage/uid-and-id), 일반적으로 object를 가리킴. [Object란 무엇인가](../object/object-model)도 참조
- Object 인자: 트랜잭션이 액세스할 object 또는 object의 참조입니다. object 인자는 트랜잭션이 성공하려면 공유 object, 동결된 object, 또는 트랜잭션 발신자가 소유한 object여야 합니다. 자세한 내용은 [Object 모델](../object)을 참조하세요.

## 명령어

Sui 트랜잭션은 여러 명령어로 구성될 수 있습니다. 각 명령어는 단일 내장 명령어(패키지 게시 등)이거나 이미 게시된 패키지의 함수 호출입니다. 명령어는 트랜잭션에 나열된 순서대로 실행되며, 이전 명령어의 결과를 사용하여 체인을 형성할 수 있습니다. 트랜잭션은 전체적으로 성공하거나 실패합니다.

개략적으로 트랜잭션은 다음과 같습니다(의사 코드):

```
Inputs:
- sender = 0xa11ce

Commands:
- payment = SplitCoins(Gas, [ 1000 ])
- item = MoveCall(0xAAA::market::purchase, [ payment ])
- TransferObjects(item, sender)
```

이 예에서 트랜잭션은 세 가지 명령어로 구성됩니다:

1. `SplitCoins` - 전달된 object에서 새 코인을 분할하는 내장 명령어, 이 경우 `Gas` object
2. `MoveCall` - 주어진 인자(payment object)로 패키지 `0xAAA`의 `market` module에서 `purchase` 함수를 호출하는 명령어
3. `TransferObjects` - object를 수신자에게 전송하는 내장 명령어

{/*
> There are multiple different implementations of transaction building, for example
*/}

## 트랜잭션 효과

트랜잭션 효과는 트랜잭션이 블록체인 상태에 가하는 변경사항입니다. 보다 구체적으로, 트랜잭션은 다음과 같은 방법으로 상태를 변경할 수 있습니다:

- 가스 object를 사용하여 트랜잭션 비용 지불
- object 생성, 업데이트 또는 삭제
- 이벤트 발생

실행된 트랜잭션의 결과는 다른 부분으로 구성됩니다:

- 트랜잭션 다이제스트 - 트랜잭션을 식별하는 데 사용되는 트랜잭션의 해시
- 트랜잭션 데이터 - 트랜잭션에 사용된 입력, 명령어 및 가스 object
- 트랜잭션 효과 - 트랜잭션의 상태와 "효과", 보다 구체적으로: 트랜잭션 상태, object 업데이트 및 새 버전, 사용된 가스 object, 트랜잭션의 가스 비용, 트랜잭션에서 발생한 이벤트
- 이벤트 - 트랜잭션에서 발생한 사용자 정의 [이벤트](./../programmability/events)
- Object 변경사항 - _소유권 변경_을 포함한 object에 대한 변경사항
- 잔액 변경사항 - 트랜잭션에 관련된 계정의 총 잔액에 대한 변경사항